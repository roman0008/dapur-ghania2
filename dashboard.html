<!DOCTYPE html>
<html>
<head>
  <title>Dashboard Omzet</title>
</head>
<body>

<h2>Dashboard Omzet</h2>

<p>Total Omzet: <b id="total">Rp 0</b></p>
<p>Omzet Hari Ini: <b id="today">Rp 0</b></p>
<p>Omzet Bulan Ini: <b id="month">Rp 0</b></p>

<hr>

<p>Invoice UNPAID: <b id="unpaidCount">0</b></p>
<p>Total UNPAID: <b id="unpaidTotal">Rp 0</b></p>

<script>
const API = "https://script.google.com/macros/s/AKfycbwU4p6qvrCzcdqTAU0fYQGSj8Ro2_Vn33oj0ooo0PiFWk5M2ESNtmRJ6rVyWJ8xW1sH/exec";

fetch(API + "?action=dashboard")
  .then(res => res.json())
  .then(d => {
    total.innerText = "Rp " + d.totalPaid.toLocaleString("id-ID");
    today.innerText = "Rp " + d.todayPaid.toLocaleString("id-ID");
    month.innerText = "Rp " + d.monthPaid.toLocaleString("id-ID");
    unpaidCount.innerText = d.unpaidCount;
    unpaidTotal.innerText = "Rp " + d.unpaidTotal.toLocaleString("id-ID");
  });
</script>

</body>
</html>
